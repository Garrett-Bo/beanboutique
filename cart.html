<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bean Boutique - Cart</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/coffee.css">
    <link rel="stylesheet" href="css/cart.css">
    <link rel="stylesheet" href="css/hompage.css">
</head>
<body>
    <header class="main-header">
        <div class="container">
            <nav class="main-nav">
                <a href="index.html" class="logo">Bean Boutique</a>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="coffee.html">Coffee</a></li>
                    <li><a href="equipment.html">Equipment</a></li>
                    <li><a href="events.html">Events</a></li>
                    <li><a href="offers.html">Offers</a></li>
                </ul>
                <a href="cart.html" class="btn-cart">Cart (<span id="cart-count">0</span>)</a>
                <button class="mobile-menu-button">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke="currentColor" fill="none"></svg>
                </button>
            </nav>
        </div>
    </header>

    <main>
        <section class="hero hero-small" style="background-image: url('https://images.unsplash.com/photo-1519125323398-675f0ddb6308?auto=format&fit=crop&w=1400&q=80');">
            <div class="hero-content">
                <h1>Your Cart</h1>
                <p>Review your selected coffees and equipment before checkout.</p>
            </div>
        </section>

        <section class="section">
            <div class="container">
                <div id="cart-container">
                    <!-- Cart items will be rendered here -->
                </div>
                <div id="cart-summary" class="cart-summary">
                    <!-- Cart summary will be rendered here -->
                </div>
            </div>
        </section>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-col">
                    <h3>Bean Boutique</h3>
                    <p>Sourcing and roasting the world's finest coffee since 2023.</p>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="coffee.html">Our Coffees</a></li>
                        <li><a href="events.html">Events</a></li>
                        <li><a href="#">About Us</a></li>
                        <li><a href="#">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Connect With Us</h3>
                    <div class="social-links">
                        <a href="#" aria-label="Twitter"><svg viewBox="0 0 24 24"><path d="M22.46,6C21.69,6.35 20.86,6.58 20,6.69C20.88,6.16 21.56,5.32 21.88,4.31C21.05,4.81 20.13,5.16 19.16,5.36C18.37,4.5 17.26,4 16,4C13.65,4 11.73,5.92 11.73,8.29C11.73,8.63 11.77,8.96 11.84,9.28C8.28,9.09 5.11,7.38 3,4.79C2.63,5.42 2.42,6.16 2.42,6.94C2.42,8.43 3.17,9.75 4.33,10.5C3.62,10.5 2.96,10.3 2.38,10C2.38,10 2.38,10 2.38,10.03C2.38,12.11 3.86,13.85 5.82,14.24C5.46,14.34 5.08,14.39 4.69,14.39C4.42,14.39 4.15,14.36 3.89,14.31C4.43,16.02 6.13,17.26 8.13,17.29C6.67,18.45 4.82,19.11 2.83,19.11C2.47,19.11 2.12,19.09 1.77,19.04C3.78,20.36 6.15,21.14 8.75,21.14C16.01,21.14 20.24,15.22 20.24,10.01C20.24,9.82 20.24,9.64 20.23,9.45C21.02,8.9 21.72,8.21 22.28,7.39L22.46,6Z"/></svg></a>
                        <a href="#" aria-label="Instagram"><svg viewBox="0 0 24 24"><path d="M7.8,2H16.2C19.4,2 22,4.6 22,7.8V16.2A5.8,5.8 0 0,1 16.2,22H7.8C4.6,22 2,19.4 2,16.2V7.8A5.8,5.8 0 0,1 7.8,2M7.6,4A3.6,3.6 0 0,0 4,7.6V16.4C4,18.39 5.61,20 7.6,20H16.4A3.6,3.6 0 0,0 20,16.4V7.6C20,5.61 18.39,4 16.4,4H7.6M17.25,5.5A1.25,1.25 0 0,1 18.5,6.75A1.25,1.25 0 0,1 17.25,8A1.25,1.25 0 0,1 16,6.75A1.25,1.25 0 0,1 17.25,5.5M12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9Z" /></svg></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Newsletter</h3>
                    <p>Sign up for updates on new arrivals and special offers.</p>
                    <form class="newsletter-form">
                        <input type="email" placeholder="Your email">
                        <button type="submit">Subscribe</button>
                    </form>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2024 Bean Boutique. All Rights Reserved.</p>
                <p>Designed with &hearts; in-house. No templates were used.</p>
            </div>
        </div>
    </footer>

    <script>
    // --- Cart Logic ---

    // Utility: Get cart from localStorage
    function getCart() {
        return JSON.parse(localStorage.getItem('beanboutique_cart') || '[]');
    }

    // Utility: Save cart to localStorage
    function saveCart(cart) {
        localStorage.setItem('beanboutique_cart', JSON.stringify(cart));
    }

    // Utility: Update cart count in header
    function updateCartCount() {
        const cart = getCart();
        document.getElementById('cart-count').textContent = cart.reduce((sum, item) => sum + item.qty, 0);
    }

    // Render cart items
    function renderCart() {
        const cart = getCart();
        const cartContainer = document.getElementById('cart-container');
        const cartSummary = document.getElementById('cart-summary');

        if (cart.length === 0) {
            cartContainer.innerHTML = '<p class="cart-empty">Your cart is empty.</p>';
            cartSummary.innerHTML = '';
            return;
        }

        let total = 0;
        cartContainer.innerHTML = cart.map((item, idx) => {
            const itemTotal = item.price * item.qty;
            total += itemTotal;
            return `
                <div class="cart-item">
                    <img src="${item.img}" alt="${item.name}">
                    <div class="cart-item-info">
                        <h3>${item.name}</h3>
                        <p class="cart-item-type">${item.type}</p>
                        <p class="cart-item-price">$${item.price.toFixed(2)}</p>
                        <div class="cart-qty">
                            <button class="qty-btn" onclick="changeQty(${idx}, -1)">-</button>
                            <span>${item.qty}</span>
                            <button class="qty-btn" onclick="changeQty(${idx}, 1)">+</button>
                        </div>
                        <button class="remove-btn" onclick="removeItem(${idx})">Remove</button>
                    </div>
                    <div class="cart-item-total">$${itemTotal.toFixed(2)}</div>
                </div>
            `;
        }).join('');

        cartSummary.innerHTML = `
            <div class="cart-summary-inner">
                <h3>Order Summary</h3>
                <p><strong>Subtotal:</strong> $${total.toFixed(2)}</p>
                <button class="checkout-btn" onclick="checkout()">Checkout</button>
            </div>
        `;
    }

    // Change quantity
    function changeQty(idx, delta) {
        const cart = getCart();
        if (cart[idx].qty === 1 && delta === -1) {
            removeItem(idx);
            return;
        }
        cart[idx].qty += delta;
        if (cart[idx].qty < 1) cart[idx].qty = 1;
        saveCart(cart);
        renderCart();
        updateCartCount();
    }

    // Remove item
    function removeItem(idx) {
        const cart = getCart();
        cart.splice(idx, 1);
        saveCart(cart);
        renderCart();
        updateCartCount();
    }

    // Checkout (demo only)
    function checkout() {
        localStorage.removeItem('beanboutique_cart');
        renderCart();
        updateCartCount();
    }

    // On page load
    renderCart();
    updateCartCount();

    // --- Add to Cart logic for other pages ---
    // This code should be included in coffee.html, equipment.html, offers.html, etc.
    // Example usage (add this to your product card button onclick):
    // addToCart({name, price, img, type})

    window.addToCart = function(product) {
        const cart = getCart();
        const existing = cart.find(item => item.name === product.name && item.type === product.type);
        if (existing) {
            existing.qty += 1;
        } else {
            cart.push({...product, qty: 1});
        }
        saveCart(cart);
        updateCartCount();
    };

    // Mobile menu toggle
    document.querySelector('.mobile-menu-button').addEventListener('click', () => {
        const navUl = document.querySelector('.main-nav ul');
        navUl.style.display = navUl.style.display === 'flex' ? 'none' : 'flex';
        navUl.style.flexDirection = 'column';
        navUl.style.position = 'absolute';
        navUl.style.top = '60px';
        navUl.style.left = '0';
        navUl.style.width = '100%';
        navUl.style.backgroundColor = 'rgba(255, 255, 255, 0.9)';
        navUl.style.padding = '1rem 0';
        navUl.style.boxShadow = '0 2px 4px rgba(0,0,0,0.05)';
    });
    </script>
</body>
</html>